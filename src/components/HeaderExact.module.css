.header-root {
  --max-w: 951px;
  --btn-h: 64px;
  --gap-x: 45px;    /* между кнопками (desktop) */
  --pad-side: 62px; /* отступы внутри рамки слева/справа */
  --pad-y: 20px;    /* вертикальные отступы */

  /* пути к SVG рамкам кнопки */
  --btn-frame: url('/ui/header/button.svg');
  --btn-frame-hover: url('/ui/header/button-hover.svg');
  --rail-frame: url('/ui/header/batton-frame.svg');
}

/* ХЕДЕР — фиксированный, по центру */
.header {
  position: fixed;
  top: 20px;                  /* <- фикс бага единиц измерения */
  left: 50%;
  transform: translateX(-50%);
  z-index: 10000;
  pointer-events: auto;

  width: 100%;
  max-width: var(--max-w);
  min-height: calc(var(--btn-h) + var(--pad-y) * 2 + 8px);
  box-sizing: border-box;

  background: rgba(185, 229, 229, 0.23);
  -webkit-backdrop-filter: blur(7px);
          backdrop-filter: blur(7px);

  /* оставим базовую рамку как “фолбэк” для случая,
     если по каким-то причинам не загрузится SVG обводка */
  border: none;
  border-radius: 10px;

  padding: var(--pad-y) var(--pad-side);
  overflow: hidden; /* важно: псевдоэлементы кнопок не выходят за границы */
}

.header::before{
  content:"";
  position:absolute;
  inset:0;
  background: var(--rail-frame) no-repeat center / 100% 100%;
  border-radius: inherit;
  pointer-events:none;
  z-index:0; /* под контентом */
}


/* РЯД КНОПОК */
.buttons {
  display: grid;
  grid-template-columns: repeat(4, minmax(170px, 1fr));
  column-gap: var(--gap-x);
  align-items: center;
  justify-items: center;
  width: 100%;
  margin: 0;
}

/* КНОПКИ */
.btn {
  position: relative;       /* для псевдоэлемента */
  isolation: isolate;       /* изолируем слои, чтобы тени вели себя стабильно */
  display: inline-flex;
  align-items: center;
  justify-content: center;

  height: var(--btn-h);
  inline-size: 100%;
  min-inline-size: 0;
  padding: 10px 25px;

  /* фон самой кнопки (заливка) */
  background: #B9E5E5;

  /* ВАЖНО: убираем обычный бордер — теперь рамка только через SVG */
  border: none;
  border-radius: 10px;
  text-decoration: none;
  box-sizing: border-box;

  transition:
    box-shadow 200ms ease,
    color 200ms ease,
    transform 120ms ease;
}

/* Псевдоэлемент с рамкой из SVG.
   Растягивается точно по кнопке, не влияя на её размеры. */
.btn::after {
  content: "";
  position: absolute;
  inset: 0;                             /* покрываем всю кнопку */
  background-image: var(--btn-frame);
  background-repeat: no-repeat;
  background-size: 100% 100%;           /* тянем равномерно */
  background-position: center;
  border-radius: inherit;               /* скругление повторяет кнопку */
  pointer-events: none;                 /* кликается сама кнопка, не рамка */
  z-index: 1;                           /* рамка над фоном, под текстом */
}

/* hover: подменяем только картинку рамки + glow/микросдвиг */
.btn:hover::after {
  background-image: var(--btn-frame-hover);
}
.btn:hover {
  box-shadow: 0 0 20px #FF7D41, 0 0 12px #FFDB3B;
  transform: translateY(-1px);
}

/* ТЕКСТ НА КНОПКАХ */
.label {
  position: relative;
  z-index: 2; /* всегда поверх рамки */
  white-space: nowrap;
  height: auto;
  font-family: 'Mountains of Christmas', cursive;
  font-weight: 700;
  font-size: clamp(24px, 2.4vw, 34px);
  line-height: 1.2;
  text-transform: uppercase;
  color: #9C6B4B;
  text-shadow: -2px 1px 0 #47423F;
  user-select: none;
  pointer-events: none;
}
.btn:hover .label { color: #FFDB3B; }

/* Масштаб шрифта от ширины кнопки (если поддерживается) */
@supports (font-size: 1cqi) {
  .btn { container-type: inline-size; }
  .label { font-size: clamp(27px, 16cqi, 34px); }
}

/* ==== НОУТЫ/УЗКИЕ ДЕСКТОПЫ: 1024..631 ==== */
@media (max-width: 1024px) and (min-width: 631px) {
  .header-root {
    --btn-h: 58px;
    --gap-x: clamp(28px, 4.2vw, 36px);
    --pad-side: clamp(36px, 5vw, 52px);
  }
  .buttons { grid-template-columns: repeat(4, 1fr); }
  .btn {
    height: var(--btn-h);
    padding: 8px 20px;
  }
  .label { font-size: clamp(20px, 2.1vw, 28px); }
}

/* ==== ПЛАНШЕТЫ: 630..560 ==== */
@media (max-width: 630px) and (min-width: 560px) {
  .header-root {
    --btn-h: 50px;
    --gap-x: clamp(16px, 3.8vw, 24px);
    --pad-side: clamp(10px, 3.2vw, 18px);
  }
  .header {
    width: min(100%, calc(100vw - 16px));
    padding: 12px var(--pad-side);
    max-width: none;
  }
  .buttons {
    grid-template-columns: repeat(4, 1fr);
    column-gap: var(--gap-x);
  }
  .btn {
    padding: 6px 14px;
    height: var(--btn-h);
    transform: none;
  }
  .label {
    font-size: clamp(16px, 3.6vw, 22px);
    line-height: 1.15;
  }
}

/* ==== СМАРТФОНЫ: <670 — скрыть секцию ==== */
@media (max-width: 670px) {
  .header { display: none; }
}

/* Меньше анимации по системной настройке */
@media (prefers-reduced-motion: reduce) {
  .btn { transition: none; }
  .btn:hover { transform: none; box-shadow: none; }
}


